import{u as p,a as N,b as B,r as i,c as b,o as R,d as w,e as r,f as s,g as A,h as k,_ as S,i as u,j as $}from"./index-a_I6mbib.js";const T={key:1,"aria-modal":"true","aria-labelledby":"modal-heading-01",class:"slds-modal slds-fade-in-open"},x=$('<div class="slds-modal__container"><div class="slds-modal__header"><h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">No Record ID</h1></div><div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"><p class="slds-text-align_center">No Record ID could be found, and therefore, no content can be loaded.</p></div></div>',1),E=[x],V={key:2,class:"slds-backdrop slds-backdrop_open",role:"presentation"},J={__name:"EditorView",setup(j){const e=p(),m=N(),l=B(),_=i(""),h=i(""),v=i(!1),c=b(()=>{var t,a,d,o;return((t=e.params)==null?void 0:t.recordId)!==void 0&&((a=e.params)==null?void 0:a.recordId)!==null&&((o=(d=e.params)==null?void 0:d.recordId)==null?void 0:o.length)>0}),n=b(()=>{var a,d,o;let t;return Array.isArray((a=e.params)==null?void 0:a.recordId)?t=e.params.recordId[0]:t=((d=e.params)==null?void 0:d.recordId)!==void 0&&((o=e.params)==null?void 0:o.recordId)!==null?e.params.recordId:"",t});return R(()=>{l.isAuthenticated||(l.$reset(),m.push({name:"home",params:e.params})),window.console.log("Record ID: %s",JSON.stringify(n.value,null,"	"));let t=`${l.apiUrl}/services/data/v58.0/sobjects/memorandumcontent__c/${n.value}`;w.get(t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.bearerToken}`}}).then(a=>{var d,o,f,y,g,I;window.console.log("Response from Record Query: %s",JSON.stringify(a,null,"	")),_.value=((d=a==null?void 0:a.data)==null?void 0:d.Name)!==void 0&&((o=a==null?void 0:a.data)==null?void 0:o.Name)!==null?(f=a==null?void 0:a.data)==null?void 0:f.Name:"",h.value=((y=a==null?void 0:a.data)==null?void 0:y.Body__c)!==void 0&&((g=a==null?void 0:a.data)==null?void 0:g.Body__c)!==null?(I=a==null?void 0:a.data)==null?void 0:I.Body__c:"",v.value=!0}).catch(a=>{window.console.log("There was an Error Retrieving the records: %s",JSON.stringify(a.message,null,"	")),l.$reset(),m.push({name:"home",params:e.params})})}),(t,a)=>(r(),s("div",null,[c.value&&v.value?(r(),A(S,{key:0,"access-token":k(l).bearerToken,"api-url":k(l).apiUrl,"record-id":n.value,"content-title":_.value,"body-content":h.value},null,8,["access-token","api-url","record-id","content-title","body-content"])):u("",!0),c.value?u("",!0):(r(),s("div",T,E)),c.value?u("",!0):(r(),s("div",V))]))}};export{J as default};
